-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  D:\UofT\Y2 Winter\ECO372\A2\ECO372_Assignment2_SI_Yoke Hong.log
  log type:  text
 opened on:   8 Mar 2021, 01:04:39

. set more off    // This tells Stata to automatically continue if displays exceed screen capacity, instead of making the user click

. clear                   // Removes any data from memory every time this script is run.

. set seed `studentnumber' // Fixes randomization issues

. display "ECO372_Assignment2 " _n "`surname' `firstname' `studentnumber'" _n c(current_date) c(current_time)
ECO372_Assignment2 
SI Yoke Hong 1005815806
 8 Mar 202101:04:39

.                                                                                                                                                 
. 
. /*      ====================================
>         ============ EXERCISE  =============
>         ==================================== */
. 
. use "datasets/LaLonde_experimental.dta", clear                  

. datasignature                                                                           // checks data integrity                        
  722:10(110271):1946935910:3093711506

. 
. // your code for the Exercise questions a-f goes below this
. 
. // part a.
. reg age treat

      Source |       SS           df       MS      Number of obs   =       722
-------------+----------------------------------   F(1, 720)       =      0.13
       Model |  5.61439061         1  5.61439061   Prob > F        =    0.7209
    Residual |   31648.574       720  43.9563527   R-squared       =    0.0002
-------------+----------------------------------   Adj R-squared   =   -0.0012
       Total |  31654.1884       721  43.9031739   Root MSE        =      6.63

------------------------------------------------------------------------------
         age |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .1792038   .5014259     0.36   0.721    -.8052277    1.163635
       _cons |   24.44706   .3216002    76.02   0.000     23.81567    25.07845
------------------------------------------------------------------------------

. reg education treat

      Source |       SS           df       MS      Number of obs   =       722
-------------+----------------------------------   F(1, 720)       =      2.23
       Model |  6.46067678         1  6.46067678   Prob > F        =    0.1361
    Residual |  2088.94791       720  2.90131654   R-squared       =    0.0031
-------------+----------------------------------   Adj R-squared   =    0.0017
       Total |  2095.40859       721  2.90625324   Root MSE        =    1.7033

------------------------------------------------------------------------------
   education |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .1922361    .128823     1.49   0.136    -.0606775    .4451497
       _cons |   10.18824   .0826234   123.31   0.000     10.02602    10.35045
------------------------------------------------------------------------------

. reg black treat

      Source |       SS           df       MS      Number of obs   =       722
-------------+----------------------------------   F(1, 720)       =      0.00
       Model |  .000317114         1  .000317114   Prob > F        =    0.9645
    Residual |  115.279461       720  .160110363   R-squared       =    0.0000
-------------+----------------------------------   Adj R-squared   =   -0.0014
       Total |  115.279778       721  .159888736   Root MSE        =    .40014

------------------------------------------------------------------------------
       black |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .0013468   .0302626     0.04   0.965    -.0580666    .0607602
       _cons |         .8   .0194095    41.22   0.000     .7618939    .8381061
------------------------------------------------------------------------------

. reg hispanic treat

      Source |       SS           df       MS      Number of obs   =       722
-------------+----------------------------------   F(1, 720)       =      0.65
       Model |   .06090711         1   .06090711   Prob > F        =    0.4220
    Residual |  67.9390929       720  .094359851   R-squared       =    0.0009
-------------+----------------------------------   Adj R-squared   =   -0.0005
       Total |          68       721  .094313454   Root MSE        =    .30718

------------------------------------------------------------------------------
    hispanic |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -.0186651   .0232322    -0.80   0.422    -.0642759    .0269458
       _cons |   .1129412   .0149004     7.58   0.000     .0836877    .1421947
------------------------------------------------------------------------------

. reg married treat

      Source |       SS           df       MS      Number of obs   =       722
-------------+----------------------------------   F(1, 720)       =      0.15
       Model |  .020027564         1  .020027564   Prob > F        =    0.7014
    Residual |  98.0201386       720  .136139081   R-squared       =    0.0002
-------------+----------------------------------   Adj R-squared   =   -0.0012
       Total |  98.0401662       721  .135978039   Root MSE        =    .36897

------------------------------------------------------------------------------
     married |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .0107031   .0279053     0.38   0.701    -.0440824    .0654887
       _cons |   .1576471   .0178977     8.81   0.000     .1225092     .192785
------------------------------------------------------------------------------

. reg nodegree treat

      Source |       SS           df       MS      Number of obs   =       722
-------------+----------------------------------   F(1, 720)       =      7.15
       Model |  1.21829197         1  1.21829197   Prob > F        =    0.0077
    Residual |  122.766473       720   .17050899   R-squared       =    0.0098
-------------+----------------------------------   Adj R-squared   =    0.0085
       Total |  123.984765       721  .171962225   Root MSE        =    .41293

------------------------------------------------------------------------------
    nodegree |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -.0834779   .0312298    -2.67   0.008    -.1447903   -.0221655
       _cons |   .8141176   .0200299    40.65   0.000     .7747936    .8534417
------------------------------------------------------------------------------

. ttest nodegree, by(treat) unequal

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     425    .8141176    .0188921    .3894702    .7769839    .8512514
       1 |     297    .7306397    .0257853    .4443762    .6798939    .7813855
---------+--------------------------------------------------------------------
combined |     722    .7797784    .0154329    .4146833    .7494796    .8100772
---------+--------------------------------------------------------------------
    diff |            .0834779    .0319655                .0206961    .1462597
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =   2.6115
Ho: diff = 0                     Satterthwaite's degrees of freedom =  582.002

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.9954         Pr(|T| > |t|) = 0.0092          Pr(T > t) = 0.0046

. 
. // part b.
. reg re78 treat, robust

Linear regression                               Number of obs     =        722
                                                F(1, 720)         =       3.30
                                                Prob > F          =     0.0698
                                                R-squared         =     0.0049
                                                Root MSE          =       6242

------------------------------------------------------------------------------
             |               Robust
        re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   886.3037   488.1385     1.82   0.070    -72.04121    1844.649
       _cons |   5090.048   277.4261    18.35   0.000     4545.388    5634.709
------------------------------------------------------------------------------

. 
. // part c.
. gen age_squared = age^2

. reg re78 treat age age_squared education black hispanic nodegree, robust

Linear regression                               Number of obs     =        722
                                                F(7, 714)         =       2.71
                                                Prob > F          =     0.0089
                                                R-squared         =     0.0238
                                                Root MSE          =     6208.4

------------------------------------------------------------------------------
             |               Robust
        re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   798.3512    488.168     1.64   0.102    -160.0653    1756.768
         age |  -3.805475   193.7217    -0.02   0.984    -384.1378    376.5268
 age_squared |   .5296508   3.197424     0.17   0.868    -5.747827    6.807128
   education |   219.7946   165.5418     1.33   0.185    -105.2124    544.8015
       black |  -1762.833    774.898    -2.27   0.023    -3284.184   -241.4815
    hispanic |   -117.148   983.6556    -0.12   0.905    -2048.351    1814.055
    nodegree |  -494.2816   756.7119    -0.65   0.514    -1979.928    991.3648
       _cons |   4430.163   3594.725     1.23   0.218    -2627.333    11487.66
------------------------------------------------------------------------------

. reg re78 treat age age_squared education black hispanic, robust

Linear regression                               Number of obs     =        722
                                                F(6, 715)         =       3.15
                                                Prob > F          =     0.0047
                                                R-squared         =     0.0232
                                                Root MSE          =     6205.9

------------------------------------------------------------------------------
             |               Robust
        re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   823.7038   481.5021     1.71   0.088    -121.6232    1769.031
         age |   5.760155   191.6123     0.03   0.976    -370.4298    381.9501
 age_squared |   .4240135   3.181489     0.13   0.894    -5.822164    6.670191
   education |    295.984   142.5997     2.08   0.038     16.01978    575.9483
       black |  -1829.059    773.435    -2.36   0.018    -3347.534   -310.5838
    hispanic |   -154.453     985.07    -0.16   0.875    -2088.428    1779.522
       _cons |   3142.578   2938.967     1.07   0.285    -2627.459    8912.615
------------------------------------------------------------------------------

. 
. // part d.
. reg re78 treat age age_squared education black hispanic nodegree

      Source |       SS           df       MS      Number of obs   =       722
-------------+----------------------------------   F(7, 714)       =      2.48
       Model |   670296792         7  95756684.6   Prob > F        =    0.0159
    Residual |  2.7520e+10       714  38543836.8   R-squared       =    0.0238
-------------+----------------------------------   Adj R-squared   =    0.0142
       Total |  2.8191e+10       721  39099301.3   Root MSE        =    6208.4

------------------------------------------------------------------------------
        re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   798.3512   472.1283     1.69   0.091    -128.5747    1725.277
         age |  -3.805475   211.1663    -0.02   0.986    -418.3866    410.7756
 age_squared |   .5296508   3.556177     0.15   0.882    -6.452164    7.511466
   education |   219.7946   182.9296     1.20   0.230    -139.3496    578.9387
       black |  -1762.833     803.88    -2.19   0.029    -3341.084   -184.5814
    hispanic |   -117.148   1054.228    -0.11   0.912    -2186.906     1952.61
    nodegree |  -494.2816   749.2561    -0.66   0.510     -1965.29     976.727
       _cons |   4430.163   3653.224     1.21   0.226    -2742.183    11602.51
------------------------------------------------------------------------------

. 
. // part f.
. ttest re78, by(treat) unequal

Two-sample t test with unequal variances
------------------------------------------------------------------------------
   Group |     Obs        Mean    Std. Err.   Std. Dev.   [95% Conf. Interval]
---------+--------------------------------------------------------------------
       0 |     425    5090.048     277.368    5718.089    4544.861    5635.236
       1 |     297    5976.352    401.7594    6923.796    5185.685    6767.019
---------+--------------------------------------------------------------------
combined |     722    5454.636    232.7105    6252.943    4997.765    5911.507
---------+--------------------------------------------------------------------
    diff |           -886.3037    488.2045               -1845.251    72.64306
------------------------------------------------------------------------------
    diff = mean(0) - mean(1)                                      t =  -1.8154
Ho: diff = 0                     Satterthwaite's degrees of freedom =  557.062

    Ha: diff < 0                 Ha: diff != 0                 Ha: diff > 0
 Pr(T < t) = 0.0350         Pr(|T| > |t|) = 0.0700          Pr(T > t) = 0.9650

. 
. use "datasets/LaLonde_PSID3.dta", clear                 

. datasignature                                                                           // checks data integrity                        
  425:10(110271):306486245:2034798792

. 
. // your code for the Exercise questions g-l goes below this
. 
. // part h.
. reg age treat

      Source |       SS           df       MS      Number of obs   =       425
-------------+----------------------------------   F(1, 423)       =    204.71
       Model |  16621.4138         1  16621.4138   Prob > F        =    0.0000
    Residual |  34346.0073       423  81.1962348   R-squared       =    0.3261
-------------+----------------------------------   Adj R-squared   =    0.3245
       Total |  50967.4212       424  120.206182   Root MSE        =    9.0109

------------------------------------------------------------------------------
         age |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -13.63155   .9527505   -14.31   0.000    -15.50426   -11.75883
       _cons |   38.25781   .7964582    48.03   0.000      36.6923    39.82332
------------------------------------------------------------------------------

. reg education treat

      Source |       SS           df       MS      Number of obs   =       425
-------------+----------------------------------   F(1, 423)       =      0.10
       Model |  .513725552         1  .513725552   Prob > F        =    0.7566
    Residual |  2259.12392       423  5.34071849   R-squared       =    0.0002
-------------+----------------------------------   Adj R-squared   =   -0.0021
       Total |  2259.63765       424  5.32933407   Root MSE        =     2.311

------------------------------------------------------------------------------
   education |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .0757839   .2443493     0.31   0.757    -.4045062    .5560739
       _cons |   10.30469   .2042654    50.45   0.000     9.903186    10.70619
------------------------------------------------------------------------------

. reg black treat

      Source |       SS           df       MS      Number of obs   =       425
-------------+----------------------------------   F(1, 423)       =     58.08
       Model |  10.8464946         1  10.8464946   Prob > F        =    0.0000
    Residual |  78.9982113       423  .186757001   R-squared       =    0.1207
-------------+----------------------------------   Adj R-squared   =    0.1186
       Total |  89.8447059       424  .211897891   Root MSE        =    .43215

------------------------------------------------------------------------------
       black |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .3482218    .045693     7.62   0.000     .2584082    .4380354
       _cons |    .453125   .0381974    11.86   0.000     .3780447    .5282053
------------------------------------------------------------------------------

. reg hispanic treat

      Source |       SS           df       MS      Number of obs   =       425
-------------+----------------------------------   F(1, 423)       =      0.51
       Model |  .046954904         1  .046954904   Prob > F        =    0.4736
    Residual |  38.6024569       423  .091258763   R-squared       =    0.0012
-------------+----------------------------------   Adj R-squared   =   -0.0011
       Total |  38.6494118       424  .091154273   Root MSE        =    .30209

------------------------------------------------------------------------------
    hispanic |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -.0229114    .031941    -0.72   0.474    -.0856943    .0398714
       _cons |   .1171875   .0267013     4.39   0.000     .0647038    .1696712
------------------------------------------------------------------------------

. reg married treat

      Source |       SS           df       MS      Number of obs   =       425
-------------+----------------------------------   F(1, 423)       =    152.94
       Model |  24.8391444         1  24.8391444   Prob > F        =    0.0000
    Residual |  68.6996791       423  .162410589   R-squared       =    0.2655
-------------+----------------------------------   Adj R-squared   =    0.2638
       Total |  93.5388235       424  .220610433   Root MSE        =      .403

------------------------------------------------------------------------------
     married |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -.5269623   .0426107   -12.37   0.000    -.6107174   -.4432073
       _cons |   .6953125   .0356207    19.52   0.000     .6252969    .7653281
------------------------------------------------------------------------------

. reg nodegree treat

      Source |       SS           df       MS      Number of obs   =       425
-------------+----------------------------------   F(1, 423)       =     20.77
       Model |  4.44133993         1  4.44133993   Prob > F        =    0.0000
    Residual |   90.443366       423  .213814104   R-squared       =    0.0468
-------------+----------------------------------   Adj R-squared   =    0.0446
       Total |  94.8847059       424  .223784684   Root MSE        =     .4624

------------------------------------------------------------------------------
    nodegree |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |   .2228272   .0488911     4.56   0.000     .1267276    .3189269
       _cons |   .5078125   .0408708    12.42   0.000     .4274773    .5881477
------------------------------------------------------------------------------

. 
. // part i.
. gen age_squared = age^2

. reg re78 treat age age_squared education black hispanic nodegree, robust

Linear regression                               Number of obs     =        425
                                                F(7, 417)         =       9.60
                                                Prob > F          =     0.0000
                                                R-squared         =     0.0816
                                                Root MSE          =       6943

------------------------------------------------------------------------------
             |               Robust
        re78 |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -509.2156   988.7946    -0.51   0.607    -2452.859    1434.428
         age |   769.8936   217.0639     3.55   0.000     343.2178    1196.569
 age_squared |  -12.63406   3.041406    -4.15   0.000    -18.61246   -6.655661
   education |   192.5652   222.4538     0.87   0.387    -244.7054    629.8358
       black |  -1516.321   924.1088    -1.64   0.102    -3332.813     300.171
    hispanic |   293.7419   1290.622     0.23   0.820    -2243.194    2830.678
    nodegree |  -581.9737   1058.438    -0.55   0.583    -2662.513    1498.566
       _cons |  -4635.431   4620.211    -1.00   0.316    -13717.24    4446.375
------------------------------------------------------------------------------

. 
. // part j.
. gen earningsgrowth = re78 - re75

. reg earningsgrowth age education black hispanic married nodegree if treat == 0, robust

Linear regression                               Number of obs     =        128
                                                F(6, 121)         =       3.43
                                                Prob > F          =     0.0037
                                                R-squared         =     0.0969
                                                Root MSE          =     8212.8

------------------------------------------------------------------------------
             |               Robust
earningsgr~h |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         age |  -232.6863    71.6444    -3.25   0.002    -374.5253   -90.84731
   education |  -149.4045   350.4904    -0.43   0.671    -843.2928    544.4838
       black |  -2118.992   1546.083    -1.37   0.173    -5179.872    941.8866
    hispanic |  -302.8929    1754.88    -0.17   0.863     -3777.14    3171.354
     married |   2077.727   1890.446     1.10   0.274    -1664.909    5820.364
    nodegree |   168.1592   2080.262     0.08   0.936    -3950.269    4286.587
       _cons |   12575.83   5495.979     2.29   0.024     1695.094    23456.57
------------------------------------------------------------------------------

. 
. // part k.
. 
. reg earningsgrowth treat age age_squared, robust

Linear regression                               Number of obs     =        425
                                                F(3, 421)         =       3.94
                                                Prob > F          =     0.0086
                                                R-squared         =     0.0237
                                                Root MSE          =     8276.7

------------------------------------------------------------------------------
             |               Robust
earningsgr~h |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       treat |  -1324.562   1114.057    -1.19   0.235    -3514.369    865.2455
         age |   594.3688   262.7995     2.26   0.024     77.80623    1110.931
 age_squared |  -9.890007   3.777738    -2.62   0.009    -17.31558   -2.464429
       _cons |  -3963.773   4041.315    -0.98   0.327    -11907.44    3979.897
------------------------------------------------------------------------------

. 
. 
. 
. 
. 
. /*      =============================================================
>         ============    FINAL COMMANDS  (do not change) ============
>         ============================================================= */
. log close                               // closes your log file
      name:  <unnamed>
       log:  D:\UofT\Y2 Winter\ECO372\A2\ECO372_Assignment2_SI_Yoke Hong.log
  log type:  text
 closed on:   8 Mar 2021, 01:04:39
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------
